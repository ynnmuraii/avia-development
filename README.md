# Разработка корпоративных приложений
[Таблица с успеваемостью](https://docs.google.com/spreadsheets/d/1JD6aiOG6r7GrA79oJncjgUHWtfeW4g_YZ9ayNgxb_w0/edit?usp=sharing)

## Задание
### Цель
Реализация проекта сервисно-ориентированного приложения.

### Задачи
* Реализация объектно-ориентированной модели данных,
* Изучение реализации серверных приложений на базе WebAPI/OpenAPI,
* Изучение работы с брокерами сообщений,
* Изучение паттернов проектирования,
* Изучение работы со средствами оркестрации на примере .NET Aspire,
* Повторение основ работы с системами контроля версий,
* Unit-тестирование.

### Лабораторные работы
<details>
<summary>1.	«Классы» - Реализация объектной модели данных и unit-тестов</summary>
<br> 
В рамках первой лабораторной работы необходимо подготовить структуру классов, описывающих предметную область, определяемую в задании. В каждом из заданий присутствует часть, связанная с обработкой данных, представленная в разделе «Unit-тесты». Данную часть необходимо реализовать в виде unit-тестов: подготовить тестовые данные, выполнить запрос с использованием LINQ, проверить результаты.  

Хранение данных на этом этапе допускается осуществлять в памяти в виде коллекций.  
Необходимо включить **как минимум 10** экземпляров каждого класса в датасид. 
  
</details>
<details>
<summary>2.	«Сервер» - Реализация серверного приложения с использованием REST API</summary>
<br> 
Во второй лабораторной работе необходимо реализовать серверное приложение, которое должно:
- Осуществлять базовые CRUD-операции с реализованными в первой лабораторной сущностями
- Предоставлять результаты аналитических запросов (раздел «Unit-тесты» задания)

Хранение данных на этом этапе допускается осуществлять в памяти в виде коллекций.
<br> 
</details>
<details>
<summary>3.	«ORM» - Реализация объектно-реляционной модели. Подключение к базе данных и настройка оркестрации</summary>
<br> 
В третьей лабораторной работе хранение должно быть переделано c инмемори коллекций на базу данных.  
Должны быть созданы миграции для создания таблиц в бд и их первоначального заполнения.
<br> 
Также необходимо настроить оркестратор Aspire на запуск сервера и базы данных.
<br> 
</details>
<details>
<summary>4.	«Инфраструктура» - Реализация сервиса генерации данных и его интеграция с сервером</summary>
<br>  
В четвертой лабораторной работе необходимо имплементировать сервис, который генерировал бы контракты. Контракты далее передаются в сервер и сохраняются в бд.
Сервис должен представлять из себя отдельное приложение без референсов к серверным проектам за исключением библиотеки с контрактами.
Отправка контрактов при помощи gRPC должна выполняться в потоковом виде.
При использовании брокеров сообщений, необходимо предусмотреть ретраи при подключении к брокеру.

Также необходимо добавить в конфигурацию Aspire запуск генератора и (если того требует вариант) брокера сообщений.
<br> 
</details>
<details>
<summary>5.	«Клиент» - Интеграция клиентского приложения с оркестратором</summary>
<br> 
В пятой лабораторной необходимо добавить в конфигурацию Aspire запуск клиентского приложения для написанного ранее сервера. Клиент создается в рамках курса "Веб разработка".
<br> 
</details>

## Задание. Общая часть
**Обязательно**:
* Реализация серверной части на [.NET 8](https://learn.microsoft.com/ru-ru/dotnet/core/whats-new/dotnet-8/overview).
* Реализация серверной части на [ASP.NET](https://dotnet.microsoft.com/ru-ru/apps/aspnet).
* Реализация unit-тестов с использованием [xUnit](https://xunit.net/?tabs=cs).
* Использование хранения данных в базе данных согласно варианту задания.
* Оркестрация проектов при помощи [.NET Aspire](https://learn.microsoft.com/ru-ru/dotnet/aspire/get-started/aspire-overview)
* Реализация сервиса генерации данных при помощи [Bogus](https://github.com/bchavez/Bogus) и его взаимодейсвие с сервером согласно варианту задания.
* Автоматизация тестирования на уровне репозитория через [GitHub Actions](https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions).
* Создание минимальной документации к проекту: страница на GitHub с информацией о задании, скриншоты приложения и прочая информация.

**Факультативно**:
* Реализация авторизации/аутентификации.
* Реализация atomic batch publishing/atomic batch consumption для брокеров, поддерживающих такой функционал. 
* Реализация интеграционных тестов при помощи .NET Aspire.
* Реализация клиента на Blazor WASM.

Внимательно прочитайте [дискуссии](https://github.com/itsecd/enterprise-development/discussions/1) о том, как работает автоматическое распределение на ревью.
Сразу корректно называйте свои pr, чтобы они попали на ревью нужному преподавателю.

По итогу работы в семестре должна получиться следующая информационная система:
<details>
<summary>C4 диаграмма</summary>

<img width="965" height="936" alt="image1" src="https://github.com/user-attachments/assets/da485c97-3108-4678-9461-5ef4aecc9f98" />

</details>

## Варианты заданий
Номер варианта задания присваивается в начале семестра. Изменить его нельзя. Каждый вариант имеет уникальную комбинацию из предметной области, базы данных и технологии для общения сервиса генерации данных и сервера апи.

[Список вариантов](https://docs.google.com/document/d/1Wc8AvsKS_1JptpsxHO-cwfAxz2ghxvQRQ0fy4el2ZOc/edit?usp=sharing)  
[Список предметных областей](https://docs.google.com/document/d/15jWhXMwd2K8giFMKku_yrY_s2uQNEu4ugJXLYPvYJAE/edit?usp=sharing)  
[Вопросы к экзамену](https://docs.google.com/document/d/1bjfvtzjyMljJbcu8YCvC8DzDegDUAmDeNtBz9M6FQes/edit?usp=sharing)

## Схема сдачи

На каждую из лабораторных работ необходимо сделать отдельный [Pull Request (PR)](https://docs.github.com/en/pull-requests).

Общая схема:
1. Сделать форк данного репозитория
2. Выполнить задание
3. Сделать PR в данный репозиторий
4. Исправить замечания после code review
5. Получить approve 
6. Прийти на занятие и защитить работу

## Критерии оценивания

Конкурентный принцип.
Так как задания в первой лабораторной будут повторяться между студентами, то выделяются следующие показатели для оценки:
1. Скорость разработки
2. Качество разработки
3. Полнота выполнения задания

Быстрее делаете PR - у вас преимущество.
Быстрее получаете Approve - у вас преимущество.
Выполните нечто немного выходящее за рамки проекта - у вас преимущество.

### Шкала оценивания

- **3 балла** за качество кода, из них:
  - 2 балла - базовая оценка
  - 1 балл (но не более) можно получить за выполнение любого из следующих пунктов:
    - Реализация факультативного функционала
    - Выполнение работы раньше других: первые 5 человек из каждой группы, которые сделали PR и получили approve, получают дополнительный балл
- **3 балла** за защиту: при сдаче лабораторной работы вам задается 3 вопроса, за каждый правильный ответ - 1 балл

У вас 2 попытки пройти ревью (первичное ревью, ревью по результатам исправления). Если замечания по итогу не исправлены, то снимается один балл за код лабораторной работы.

## Вопросы и обратная связь по курсу

Чтобы задать вопрос по лабораторной, воспользуйтесь [соотвествующим разделом дискуссий](https://github.com/itsecd/enterprise-development/discussions/categories/questions) или заведите [ишью](https://github.com/itsecd/enterprise-development/issues/new).  
Если у вас появились идеи/пожелания/прочие полезные мысли по преподаваемой дисциплине, их можно оставить [здесь](https://github.com/itsecd/enterprise-development/discussions/categories/ideas).
